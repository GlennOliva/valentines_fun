<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Date? ğŸ’˜</title>
  <style>
    :root{
      --bg1:#ff4d6d;
      --bg2:#7b2ff7;
      --card:#ffffffea;
      --text:#1f2937;
      --muted:#6b7280;
      --yes:#16a34a;
      --no:#ef4444;
      --tile:#111827;
      --tileText:#f9fafb;
      --shadow: 0 20px 60px rgba(0,0,0,.25);
      --radius: 22px;
    }

    *{ box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(1000px 500px at 90% 20%, rgba(255,255,255,.14), transparent 55%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
      padding: 24px;
    }

    /* floating hearts background */
    .hearts{
      position:fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
      opacity:.65;
    }
    .heart{
      position:absolute;
      font-size: 18px;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 8px 12px rgba(0,0,0,.15));
    }
    @keyframes floatUp{
      from{ transform: translateY(110vh) translateX(0) rotate(0deg); }
      to  { transform: translateY(-20vh) translateX(40px) rotate(20deg); }
    }

    .card{
      width:min(900px, 94vw);
      background:var(--card);
      border-radius:var(--radius);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3vw, 30px);
      position:relative;
      backdrop-filter: blur(8px);
    }

    .top{
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      background:#111827;
      color:#fff;
      padding:10px 14px;
      border-radius:999px;
      font-size:14px;
      letter-spacing:.2px;
    }

    .badge span{ opacity:.9; }

    h1{
      margin: 10px 0 8px;
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1.08;
    }
    .sub{
      margin: 0 0 18px;
      color: var(--muted);
      font-size: clamp(14px, 2vw, 16px);
      line-height:1.6;
    }

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 18px;
      margin-top: 10px;
    }
    @media (max-width: 820px){
      .grid{ grid-template-columns: 1fr; }
    }

    .panel{
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(17,24,39,.08);
      border-radius: 18px;
      padding: 16px;
    }

    .question{
      display:flex;
      flex-direction:column;
      gap: 14px;
    }

    .name{
      font-weight:800;
      background: linear-gradient(90deg, #ff1f66, #6d28d9);
      -webkit-background-clip:text;
      background-clip:text;
      color:transparent;
    }

    .btnRow{
      display:flex;
      gap: 12px;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 6px;
      position: relative;
      min-height: 56px;
    }

    button{
      border:0;
      cursor:pointer;
      padding: 14px 18px;
      border-radius: 16px;
      font-weight:800;
      font-size: 16px;
      transition: transform .12s ease, filter .2s ease, opacity .2s ease;
      user-select:none;
    }

    .yes{
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color:white;
      box-shadow: 0 14px 30px rgba(22,163,74,.28);
    }
    .yes.pulse{
      animation: pulse 1.1s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-1px) scale(1.03); }
    }

    .no{
      background: linear-gradient(135deg, #fb7185, #ef4444);
      color:white;
      position: relative;
    }

    .hint{
      font-size: 13px;
      color: var(--muted);
      margin-top: 8px;
    }

    /* Scrabble mini-game */
    .gameTitle{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 10px;
      margin-bottom: 10px;
    }
    .gameTitle h2{
      margin:0;
      font-size: 18px;
    }
    .chip{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background:#111827;
      color:#fff;
      opacity:.9;
      white-space:nowrap;
    }

    .board{
      display:grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      margin: 12px 0 10px;
    }
    .slot{
      height: 44px;
      border-radius: 12px;
      background: rgba(17,24,39,.06);
      border: 1px dashed rgba(17,24,39,.18);
      display:grid;
      place-items:center;
      font-weight:900;
      color:#111827;
      letter-spacing: .5px;
    }
    .slot.filled{
      border-style: solid;
      background: rgba(34,197,94,.12);
      border-color: rgba(34,197,94,.35);
    }

    .rack{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .tile{
      width: 44px;
      height: 44px;
      border-radius: 14px;
      background: var(--tile);
      color: var(--tileText);
      display:grid;
      place-items:center;
      font-weight:900;
      cursor:pointer;
      box-shadow: 0 12px 24px rgba(0,0,0,.18);
      transition: transform .12s ease;
      position:relative;
    }
    .tile:hover{ transform: translateY(-2px); }
    .tile:active{ transform: translateY(0px) scale(.98); }

    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 12px;
    }
    .ghost{
      background: transparent;
      border: 1px solid rgba(17,24,39,.18);
      color:#111827;
      font-weight:800;
    }
    .small{
      padding: 10px 12px;
      border-radius: 14px;
      font-size: 14px;
    }

    .msg{
      margin-top: 12px;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(17,24,39,.06);
      color:#111827;
      font-weight:700;
      line-height:1.5;
      min-height: 48px;
    }

    /* Modal success */
    .overlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.55);
      display:none;
      place-items:center;
      padding: 22px;
      z-index: 50;
    }
    .overlay.show{ display:grid; }

    .modal{
      width:min(720px, 92vw);
      background:white;
      border-radius: 24px;
      padding: 22px;
      box-shadow: var(--shadow);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .modal h3{
      margin: 6px 0 10px;
      font-size: clamp(24px, 3vw, 34px);
    }
    .modal p{
      margin: 0 0 16px;
      color:#374151;
      line-height:1.7;
    }
    .bigYes{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-top: 6px;
      padding: 14px 18px;
      border-radius: 18px;
      background: linear-gradient(135deg, #ff1f66, #6d28d9);
      color:white;
      font-weight:900;
      font-size: 16px;
      border:0;
      cursor:pointer;
    }

    /* Confetti */
    canvas#confetti{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index: 60;
      display:none;
    }
    canvas#confetti.show{ display:block; }

    /* Tiny footer */
    .footer{
      margin-top: 12px;
      font-size: 12px;
      color: rgba(31,41,55,.75);
    }

    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      background: rgba(17,24,39,.08);
      padding: 2px 6px;
      border-radius: 8px;
    }
  </style>
</head>
<body>

  <div class="hearts" id="hearts"></div>

  <canvas id="confetti"></canvas>

  <main class="card">
    <div class="top">
      <div class="badge">ğŸ’˜ <span>Valentine Quest</span></div>
      <div class="badge">ğŸ§© <span>Mini Scrabble Challenge</span></div>
    </div>

    <h1>
      Hey <span class="name" id="gfName">My Love</span>â€¦<br/>
      Will you be my <span class="name">Valentineâ€™s date</span>? ğŸ’–
    </h1>
    <p class="sub">
      Before you answer, I made a tiny game for you ğŸ˜„
    </p>

    <section class="grid">
      <!-- Left: Question + buttons -->
      <div class="panel question">
        <div>
          <div style="font-weight:900; font-size:18px;">The Big Question ğŸ’Œ</div>
          <div class="hint">
            (Tip: Try clicking <span class="kbd">No</span>â€¦ if you can catch it ğŸ˜œ)
          </div>
        </div>

        <div class="btnRow" id="btnRow">
          <button class="yes" id="yesBtn" disabled title="Finish the tile game first!">YES!!! ğŸ¥°</button>
          <button class="no" id="noBtn">No ğŸ™ƒ</button>
        </div>

        <div class="msg" id="statusMsg">
          ğŸ§© Mission: Complete the tiles to unlock â€œYESâ€.
        </div>

   
      </div>

      <!-- Right: Scrabble mini-game -->
      <div class="panel">
        <div class="gameTitle">
          <h2>ğŸ§© Build: <span class="name">BE MY DATE</span></h2>
          <span class="chip" id="progressChip">0 / 8</span>
        </div>

        <div class="board" id="board"></div>

        <div style="font-weight:800; margin-top:6px;">Tiles</div>
        <div class="rack" id="rack"></div>

        <div class="actions">
          <button class="ghost small" id="backBtn">âŒ« Undo</button>
          <button class="ghost small" id="clearBtn">ğŸ§¼ Clear</button>
          <button class="ghost small" id="shuffleBtn">ğŸ”€ Shuffle</button>
        </div>

        <div class="hint" id="gameHint">
          Click tiles to place them on the board. Spell it correctly to win ğŸ’˜
        </div>
      </div>
    </section>
  </main>

  <!-- Success modal -->
  <div class="overlay" id="overlay">
    <div class="modal">
      <div style="font-size:52px;">ğŸ‰ğŸ’–ğŸ‰</div>
      <h3 id="successTitle">YAYYYYY!!</h3>
      <p id="successText">
        You just made me the happiest person ğŸ˜­ğŸ’˜<br/>
        Itâ€™s a date! Iâ€™ll pick you up and weâ€™ll make the cutest memories.
      </p>
      <button class="bigYes" id="closeModal">Okayyyy ğŸ˜˜</button>
    </div>
  </div>


  <!-- Hint modal -->
<div class="overlay" id="hintOverlay">
  <div class="modal">
    <div style="font-size:52px;">ğŸ¥ºğŸ™</div>
    <h3>Please answer correctly ğŸ¥º</h3>
    <p>
      One-word hint for you: <b id="hintWord">DATE</b> ğŸ’–
    </p>
    <button class="bigYes" id="closeHint">Okay, Iâ€™ll try again ğŸ’˜</button>
  </div>
</div>

 <script>
  /********************
   * 1) CUSTOMIZE HERE
   ********************/
  const girlfriendName = "Marie";
  const yourName = "Glenn"; // optional
  const dateMessage = "Dinner + Roadtrip? ğŸ’–";

  // Apply name
  document.getElementById("gfName").textContent = girlfriendName;

  /********************
   * 2) Hearts Background
   ********************/
  const heartsEl = document.getElementById("hearts");
  const heartIcons = ["ğŸ’–","ğŸ’˜","ğŸ’—","ğŸ’","ğŸ’•","ğŸ’“","ğŸŒ¸","âœ¨"];

  function spawnHearts(){
    for(let i=0;i<24;i++){
      const s = document.createElement("div");
      s.className = "heart";
      s.textContent = heartIcons[Math.floor(Math.random()*heartIcons.length)];
      s.style.left = Math.random()*100 + "vw";
      s.style.animationDuration = (6 + Math.random()*8) + "s";
      s.style.animationDelay = (-Math.random()*10) + "s";
      s.style.fontSize = (14 + Math.random()*26) + "px";
      s.style.opacity = (0.35 + Math.random()*0.6);
      heartsEl.appendChild(s);
    }
  }
  spawnHearts();

  /********************
   * âœ… Hint Popup Setup (MUST BE BEFORE updateBoard)
   ********************/
  const hintOverlay = document.getElementById("hintOverlay");
  const closeHint = document.getElementById("closeHint");
  const hintWordEl = document.getElementById("hintWord");

  let wrongAttempts = 0;
  const hintWords = ["BE", "MY", "DATE"]; // one word per wrong full try
  let wrongLocked = false; // prevents spam while board is full

  closeHint.addEventListener("click", () => {
    hintOverlay.classList.remove("show");
  });

  /********************
   * 3) Scrabble Mini-Game
   * Target: "BEMYDATE" (8 letters)
   ********************/
  const target = "BEMYDATE";
  const board = document.getElementById("board");
  const rack = document.getElementById("rack");
  const chip = document.getElementById("progressChip");
  const yesBtn = document.getElementById("yesBtn");
  const statusMsg = document.getElementById("statusMsg");

  // create 8 slots
  const slots = [];
  for(let i=0;i<target.length;i++){
    const d = document.createElement("div");
    d.className = "slot";
    d.textContent = "â€¢";
    board.appendChild(d);
    slots.push(d);
  }

  // tiles: correct letters + decoys
  let tiles = ["B","E","M","Y","D","A","T","E","S","O","X","L"];

  function renderTiles(){
    rack.innerHTML = "";
    tiles.forEach((letter, idx) => {
      const t = document.createElement("div");
      t.className = "tile";
      t.textContent = letter;
      t.title = "Click to place";
      t.addEventListener("click", () => placeTile(idx));
      rack.appendChild(t);
    });
  }

  let placed = new Array(target.length).fill("");

  function updateBoard(){
    for(let i=0;i<slots.length;i++){
      if(placed[i]){
        slots[i].textContent = placed[i];
        slots[i].classList.add("filled");
      }else{
        slots[i].textContent = "â€¢";
        slots[i].classList.remove("filled");
      }
    }

    chip.textContent = `${placed.filter(Boolean).length} / ${target.length}`;

    const current = placed.join("");
    const isFull = placed.every(v => v);

    if(current === target){
      statusMsg.textContent = "âœ… Perfect! Now click YES!!! ğŸ¥°";
      yesBtn.disabled = false;
      yesBtn.classList.add("pulse");
      wrongLocked = false; // reset lock after success
      return;
    }

    // not correct
    yesBtn.disabled = true;
    yesBtn.classList.remove("pulse");

    // âœ… Full but wrong -> alert + hint popup (only once per full attempt)
    if(isFull && !wrongLocked){
      wrongLocked = true;
      wrongAttempts++;

     

      const hint = hintWords[Math.min(wrongAttempts - 1, hintWords.length - 1)];
      hintWordEl.textContent = hint;
      hintOverlay.classList.add("show");

      statusMsg.textContent = "ğŸ¥ºğŸ‘‰ğŸ‘ˆ Pweaseâ€¦ try again! (Hint unlocked ğŸ’Œ)";
    } else {
      if(!isFull) wrongLocked = false; // unlock when board not full
      statusMsg.textContent = "ğŸ§© Mission: Complete the tiles to unlock â€œYESâ€.";
    }
  }

  function placeTile(tileIndex){
    const next = placed.findIndex(v => !v);
    if(next === -1) return;

    const letter = tiles[tileIndex];
    placed[next] = letter;
    tiles.splice(tileIndex, 1);

    renderTiles();
    updateBoard();
  }

  // Buttons
  document.getElementById("backBtn").addEventListener("click", () => {
    const lastIndex = placed.length - 1 - [...placed].reverse().findIndex(v => v);
    if(lastIndex >= 0 && placed[lastIndex]){
      tiles.push(placed[lastIndex]);
      placed[lastIndex] = "";
      renderTiles();
      updateBoard();
    }
  });

  document.getElementById("clearBtn").addEventListener("click", () => {
    placed.forEach(l => { if(l) tiles.push(l); });
    placed = new Array(target.length).fill("");
    renderTiles();
    updateBoard();
  });

  document.getElementById("shuffleBtn").addEventListener("click", () => {
    tiles.sort(() => Math.random() - 0.5);
    renderTiles();
  });

  renderTiles();
  updateBoard();

  /********************
   * 4) "No" button runs away ğŸ˜…
   ********************/
  const noBtn = document.getElementById("noBtn");
  const btnRow = document.getElementById("btnRow");

  function moveNoButton(){
    const rowRect = btnRow.getBoundingClientRect();
    const bRect = noBtn.getBoundingClientRect();

    const maxX = Math.max(0, rowRect.width - bRect.width);
    const maxY = 60;

    const x = Math.random() * maxX;
    const y = (Math.random() * maxY) - (maxY/2);

    noBtn.style.position = "absolute";
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
    noBtn.style.transform = `rotate(${(Math.random()*18)-9}deg)`;

    const texts = ["No ğŸ™ƒ", "Nope ğŸ˜…", "Nice try ğŸ˜›", "Not today ğŸ˜œ", "Ehhh ğŸ¤­"];
    noBtn.textContent = texts[Math.floor(Math.random()*texts.length)];
  }

  noBtn.addEventListener("mouseenter", moveNoButton);
  noBtn.addEventListener("click", (e) => {
    e.preventDefault();
    statusMsg.textContent = "ğŸ˜‚ You caught it?! Okay okayâ€¦ but youâ€™re still my favorite. Try YES ğŸ’–";
    moveNoButton();
  });

  setTimeout(moveNoButton, 400);

  /********************
   * 5) YES button -> modal + confetti
   ********************/
  const overlay = document.getElementById("overlay");
  const closeModal = document.getElementById("closeModal");
  const successTitle = document.getElementById("successTitle");
  const successText  = document.getElementById("successText");

  yesBtn.addEventListener("click", () => {
    successTitle.textContent = `YAY, ${girlfriendName}!!! ğŸ’–`;
    successText.innerHTML = `
      You just made me the happiest person ğŸ˜­ğŸ’˜<br/>
      <b>${dateMessage}</b><br/>
      I canâ€™t wait to spend Valentineâ€™s with you ğŸ¥°
    `;
    overlay.classList.add("show");
    fireConfetti();
  });

  closeModal.addEventListener("click", () => {
    overlay.classList.remove("show");
    stopConfetti();
  });

  /********************
   * 6) Confetti
   ********************/
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  let confettiOn = false;
  let particles = [];
  let rafId;

  function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  function fireConfetti(){
    canvas.classList.add("show");
    confettiOn = true;
    particles = Array.from({length: 180}, () => ({
      x: Math.random() * canvas.width,
      y: -20 - Math.random() * canvas.height,
      r: 4 + Math.random() * 6,
      vy: 2 + Math.random() * 5,
      vx: (Math.random() - 0.5) * 2.5,
      rot: Math.random() * Math.PI,
      vr: (Math.random() - 0.5) * 0.2,
      emoji: ["ğŸ’–","âœ¨","ğŸ’•","ğŸ’˜","ğŸŒ¸"][Math.floor(Math.random()*5)]
    }));
    loop();
  }

  function stopConfetti(){
    confettiOn = false;
    canvas.classList.remove("show");
    cancelAnimationFrame(rafId);
    ctx.clearRect(0,0,canvas.width,canvas.height);
  }

  function loop(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    for(const p of particles){
      p.x += p.vx;
      p.y += p.vy;
      p.rot += p.vr;

      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);
      ctx.font = `${p.r * 3}px serif`;
      ctx.fillText(p.emoji, -p.r, p.r);
      ctx.restore();

      if(p.y > canvas.height + 40){
        p.y = -30;
        p.x = Math.random() * canvas.width;
      }
    }

    if(confettiOn) rafId = requestAnimationFrame(loop);
  }
</script>

</body>
</html>
